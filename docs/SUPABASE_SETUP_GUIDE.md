# ğŸš€ Supabase å®Œæ•´é…ç½®æ•™ç¨‹ï¼ˆ2024 æœ€æ–°ç‰ˆï¼‰

æœ¬æ•™ç¨‹å°†æ‰‹æŠŠæ‰‹æ•™ä½ ä»é›¶å¼€å§‹é…ç½® Supabaseï¼Œå¤§çº¦éœ€è¦ **10-15 åˆ†é’Ÿ**ã€‚

---

## ğŸ“‹ ç›®å½•

1. [åˆ›å»º Supabase è´¦æˆ·å’Œé¡¹ç›®](#1-åˆ›å»º-supabase-è´¦æˆ·å’Œé¡¹ç›®)
2. [é…ç½®æ•°æ®åº“](#2-é…ç½®æ•°æ®åº“)
3. [é…ç½® Storage å­˜å‚¨](#3-é…ç½®-storage-å­˜å‚¨)
4. [é…ç½®è®¤è¯ç³»ç»Ÿ](#4-é…ç½®è®¤è¯ç³»ç»Ÿ)
5. [è·å– API å¯†é’¥](#5-è·å–-api-å¯†é’¥)
6. [é…ç½®å‰ç«¯ç¯å¢ƒå˜é‡](#6-é…ç½®å‰ç«¯ç¯å¢ƒå˜é‡)
7. [éªŒè¯é…ç½®](#7-éªŒè¯é…ç½®)

---

## 1. åˆ›å»º Supabase è´¦æˆ·å’Œé¡¹ç›®

### æ­¥éª¤ 1.1ï¼šæ³¨å†Œè´¦æˆ·

1. è®¿é—® **https://supabase.com**
2. ç‚¹å‡»å³ä¸Šè§’ **"Start your project"** æˆ– **"Sign In"**
3. é€‰æ‹©æ³¨å†Œæ–¹å¼ï¼š
   - GitHub è´¦æˆ·ï¼ˆæ¨èï¼Œæœ€å¿«ï¼‰
   - Google è´¦æˆ·
   - é‚®ç®±æ³¨å†Œ

![æ³¨å†Œé¡µé¢](https://supabase.com/images/login.png)

### æ­¥éª¤ 1.2ï¼šåˆ›å»ºç»„ç»‡ï¼ˆé¦–æ¬¡ä½¿ç”¨ï¼‰

å¦‚æœæ˜¯ç¬¬ä¸€æ¬¡ä½¿ç”¨ï¼Œéœ€è¦åˆ›å»ºç»„ç»‡ï¼š

1. è¾“å…¥ç»„ç»‡åç§°ï¼ˆä¾‹å¦‚ï¼š`My Company`ï¼‰
2. é€‰æ‹©è®¡åˆ’ï¼š
   - **Free Plan**ï¼ˆå…è´¹ï¼Œé€‚åˆå¼€å‘å’Œå°å‹é¡¹ç›®ï¼‰
   - Pro Planï¼ˆä»˜è´¹ï¼‰
3. ç‚¹å‡» **"Create organization"**

### æ­¥éª¤ 1.3ï¼šåˆ›å»ºæ–°é¡¹ç›®

1. åœ¨ Dashboard ä¸­ç‚¹å‡» **"New Project"**
2. å¡«å†™é¡¹ç›®ä¿¡æ¯ï¼š
   - **Name**ï¼ˆé¡¹ç›®åç§°ï¼‰ï¼š`file-manager`ï¼ˆæˆ–ä»»æ„åç§°ï¼‰
   - **Database Password**ï¼ˆæ•°æ®åº“å¯†ç ï¼‰ï¼š
     - ç‚¹å‡» **"Generate a password"** è‡ªåŠ¨ç”Ÿæˆ
     - **âš ï¸ é‡è¦ï¼šå¤åˆ¶å¹¶ä¿å­˜è¿™ä¸ªå¯†ç ï¼**
   - **Region**ï¼ˆåŒºåŸŸï¼‰ï¼šé€‰æ‹©ç¦»ä½ æœ€è¿‘çš„åŒºåŸŸ
     - `Southeast Asia (Singapore)` - æ–°åŠ å¡ï¼ˆäºšæ´²ç”¨æˆ·æ¨èï¼‰
     - `Northeast Asia (Tokyo)` - ä¸œäº¬
     - `East US (North Virginia)` - ç¾å›½ä¸œéƒ¨
3. ç‚¹å‡» **"Create new project"**

â±ï¸ **ç­‰å¾… 2-3 åˆ†é’Ÿ**ï¼Œé¡¹ç›®æ­£åœ¨åˆå§‹åŒ–...

å½“çœ‹åˆ° **"Project is ready"** æ—¶ï¼Œè¯´æ˜åˆ›å»ºæˆåŠŸï¼

---

## 2. é…ç½®æ•°æ®åº“

### æ­¥éª¤ 2.1ï¼šæ‰“å¼€ SQL Editor

1. åœ¨å·¦ä¾§èœå•ä¸­ç‚¹å‡» **"SQL Editor"** å›¾æ ‡ï¼ˆçœ‹èµ·æ¥åƒ `</>`ï¼‰
2. ç‚¹å‡» **"New query"** æŒ‰é’®

### æ­¥éª¤ 2.2ï¼šåˆ›å»ºæ•°æ®åº“è¡¨

1. å¤åˆ¶ä»¥ä¸‹ SQL ä»£ç ï¼š

```sql
-- åˆ›å»ºæ–‡ä»¶è¡¨
create table files (
  id uuid primary key default gen_random_uuid(),
  user_id uuid not null references auth.users(id),
  path text not null,
  name text not null,
  type text not null, -- image / markdown
  size int,
  created_at timestamp with time zone default now()
);

-- åˆ›å»ºç´¢å¼•ä»¥æå‡æŸ¥è¯¢æ€§èƒ½
create index idx_files_user_id on files(user_id);
create index idx_files_created_at on files(created_at desc);
```

2. ç²˜è´´åˆ° SQL Editor ä¸­
3. ç‚¹å‡»å³ä¸‹è§’ **"Run"** æŒ‰é’®ï¼ˆæˆ–æŒ‰ `Ctrl+Enter`ï¼‰
4. çœ‹åˆ° **"Success. No rows returned"** è¡¨ç¤ºæˆåŠŸï¼

### æ­¥éª¤ 2.3ï¼šé…ç½®è¡Œçº§å®‰å…¨ç­–ç•¥ï¼ˆRLSï¼‰

1. ç‚¹å‡» **"New query"** åˆ›å»ºæ–°æŸ¥è¯¢
2. å¤åˆ¶ä»¥ä¸‹ SQL ä»£ç ï¼š

```sql
-- å¯ç”¨è¡Œçº§å®‰å…¨ç­–ç•¥
alter table files enable row level security;

-- ç”¨æˆ·åªèƒ½æŸ¥çœ‹è‡ªå·±çš„æ–‡ä»¶
create policy "user_select_own_files" 
on files for select 
to authenticated 
using (auth.uid() = user_id);

-- ç”¨æˆ·åªèƒ½æ’å…¥è‡ªå·±çš„æ–‡ä»¶
create policy "user_insert_own_files" 
on files for insert 
to authenticated 
with check (auth.uid() = user_id);

-- ç”¨æˆ·åªèƒ½åˆ é™¤è‡ªå·±çš„æ–‡ä»¶
create policy "user_delete_own_files"
on files for delete
to authenticated
using (auth.uid() = user_id);

-- ç”¨æˆ·åªèƒ½æ›´æ–°è‡ªå·±çš„æ–‡ä»¶
create policy "user_update_own_files"
on files for update
to authenticated
using (auth.uid() = user_id)
with check (auth.uid() = user_id);
```

3. ç‚¹å‡» **"Run"**
4. çœ‹åˆ° **"Success"** è¡¨ç¤ºæˆåŠŸï¼

### æ­¥éª¤ 2.4ï¼šéªŒè¯è¡¨åˆ›å»º

1. åœ¨å·¦ä¾§èœå•ç‚¹å‡» **"Table Editor"**
2. åº”è¯¥èƒ½çœ‹åˆ° **"files"** è¡¨
3. ç‚¹å‡»è¡¨åï¼Œå¯ä»¥çœ‹åˆ°å­—æ®µç»“æ„

âœ… **æ•°æ®åº“é…ç½®å®Œæˆï¼**

---

## 3. é…ç½® Storage å­˜å‚¨

### æ­¥éª¤ 3.1ï¼šåˆ›å»º Storage Bucket

1. åœ¨å·¦ä¾§èœå•ç‚¹å‡» **"Storage"** å›¾æ ‡
2. ç‚¹å‡» **"Create a new bucket"** æŒ‰é’®
3. å¡«å†™ä¿¡æ¯ï¼š
   - **Name**ï¼ˆåç§°ï¼‰ï¼š`private-files`
   - **Public bucket**ï¼š**å–æ¶ˆå‹¾é€‰**ï¼ˆä¿æŒç§æœ‰ï¼‰
   - **File size limit**ï¼š`52428800`ï¼ˆ50MBï¼‰
4. ç‚¹å‡» **"Create bucket"**

### æ­¥éª¤ 3.2ï¼šé…ç½® Storage ç­–ç•¥

1. ç‚¹å‡»åˆšåˆ›å»ºçš„ **"private-files"** bucket
2. ç‚¹å‡»é¡¶éƒ¨çš„ **"Policies"** æ ‡ç­¾
3. ç‚¹å‡» **"New Policy"** æŒ‰é’®
4. é€‰æ‹© **"For full customization"**

#### ç­–ç•¥ 1ï¼šå…è®¸ç”¨æˆ·ä¸Šä¼ è‡ªå·±çš„æ–‡ä»¶

1. ç‚¹å‡» **"Create policy"**
2. å¡«å†™ï¼š
   - **Policy name**: `Users can upload own files`
   - **Allowed operation**: å‹¾é€‰ **INSERT**
   - **Target roles**: é€‰æ‹© **authenticated**
3. åœ¨ **"Policy definition"** ä¸­è¾“å…¥ï¼š

```sql
(bucket_id = 'private-files'::text) AND 
((storage.foldername(name))[1] = (auth.uid())::text)
```

4. ç‚¹å‡» **"Review"** â†’ **"Save policy"**

#### ç­–ç•¥ 2ï¼šå…è®¸ç”¨æˆ·æŸ¥çœ‹è‡ªå·±çš„æ–‡ä»¶

1. å†æ¬¡ç‚¹å‡» **"New Policy"** â†’ **"For full customization"**
2. å¡«å†™ï¼š
   - **Policy name**: `Users can view own files`
   - **Allowed operation**: å‹¾é€‰ **SELECT**
   - **Target roles**: é€‰æ‹© **authenticated**
3. **Policy definition**:

```sql
(bucket_id = 'private-files'::text) AND 
((storage.foldername(name))[1] = (auth.uid())::text)
```

4. ç‚¹å‡» **"Review"** â†’ **"Save policy"**

#### ç­–ç•¥ 3ï¼šå…è®¸ç”¨æˆ·åˆ é™¤è‡ªå·±çš„æ–‡ä»¶

1. å†æ¬¡ç‚¹å‡» **"New Policy"** â†’ **"For full customization"**
2. å¡«å†™ï¼š
   - **Policy name**: `Users can delete own files`
   - **Allowed operation**: å‹¾é€‰ **DELETE**
   - **Target roles**: é€‰æ‹© **authenticated**
3. **Policy definition**:

```sql
(bucket_id = 'private-files'::text) AND 
((storage.foldername(name))[1] = (auth.uid())::text)
```

4. ç‚¹å‡» **"Review"** â†’ **"Save policy"**

### æ­¥éª¤ 3.3ï¼šéªŒè¯ Storage é…ç½®

åœ¨ **Policies** æ ‡ç­¾ä¸­ï¼Œåº”è¯¥èƒ½çœ‹åˆ° 3 ä¸ªç­–ç•¥ï¼š
- âœ… Users can upload own files (INSERT)
- âœ… Users can view own files (SELECT)
- âœ… Users can delete own files (DELETE)

âœ… **Storage é…ç½®å®Œæˆï¼**

---

## 4. é…ç½®è®¤è¯ç³»ç»Ÿ

### æ­¥éª¤ 4.1ï¼šå¯ç”¨é‚®ç®±è®¤è¯

1. åœ¨å·¦ä¾§èœå•ç‚¹å‡» **"Authentication"** å›¾æ ‡
2. ç‚¹å‡» **"Providers"** æ ‡ç­¾
3. æ‰¾åˆ° **"Email"** æä¾›å•†
4. ç¡®ä¿å·²å¯ç”¨ï¼ˆåº”è¯¥é»˜è®¤å¯ç”¨ï¼‰

### æ­¥éª¤ 4.2ï¼šé…ç½®é‚®ç®±éªŒè¯ï¼ˆå¯é€‰ï¼‰

**å¼€å‘ç¯å¢ƒå»ºè®®ï¼šå…³é—­é‚®ç®±éªŒè¯**ï¼ˆæ–¹ä¾¿æµ‹è¯•ï¼‰

1. ç‚¹å‡» **"Email"** æä¾›å•†è¿›å…¥è®¾ç½®
2. æ‰¾åˆ° **"Confirm email"** é€‰é¡¹
3. **å–æ¶ˆå‹¾é€‰**ï¼ˆå¼€å‘æ—¶æ›´æ–¹ä¾¿ï¼‰
4. ç‚¹å‡» **"Save"**

**ç”Ÿäº§ç¯å¢ƒå»ºè®®ï¼šå¼€å¯é‚®ç®±éªŒè¯**ï¼ˆæ›´å®‰å…¨ï¼‰

### æ­¥éª¤ 4.3ï¼šé…ç½®ç«™ç‚¹ URLï¼ˆé‡è¦ï¼‰

1. åœ¨ Authentication é¡µé¢ï¼Œç‚¹å‡» **"URL Configuration"**
2. è®¾ç½®ï¼š
   - **Site URL**: `http://localhost:3000`ï¼ˆå¼€å‘ç¯å¢ƒï¼‰
   - **Redirect URLs**: æ·»åŠ  `http://localhost:3000/**`
3. ç‚¹å‡» **"Save"**

âœ… **è®¤è¯ç³»ç»Ÿé…ç½®å®Œæˆï¼**

---

## 5. è·å– API å¯†é’¥

### æ­¥éª¤ 5.1ï¼šæ‰“å¼€ API è®¾ç½®

1. åœ¨å·¦ä¾§èœå•ç‚¹å‡» **"Settings"** å›¾æ ‡ï¼ˆé½¿è½®ï¼‰
2. ç‚¹å‡» **"API"** é€‰é¡¹

### æ­¥éª¤ 5.2ï¼šå¤åˆ¶é…ç½®ä¿¡æ¯

ä½ éœ€è¦å¤åˆ¶ä¸¤ä¸ªé‡è¦ä¿¡æ¯ï¼š

#### 1. Project URL
- åœ¨ **"Project URL"** éƒ¨åˆ†
- æ ¼å¼ç±»ä¼¼ï¼š`https://abcdefghijklmn.supabase.co`
- **å¤åˆ¶æ•´ä¸ª URL**

#### 2. anon public key
- åœ¨ **"Project API keys"** éƒ¨åˆ†
- æ‰¾åˆ° **"anon public"** å¯†é’¥
- ç‚¹å‡»å³ä¾§çš„å¤åˆ¶å›¾æ ‡
- è¿™æ˜¯ä¸€ä¸ªå¾ˆé•¿çš„å­—ç¬¦ä¸²ï¼Œç±»ä¼¼ï¼š
  ```
  eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImFiY2RlZmdoaWprbG1uIiwicm9sZSI6ImFub24iLCJpYXQiOjE2NDE3NjkyMDAsImV4cCI6MTk1NzM0NTIwMH0.xxxxxxxxxxxxxxxxxxxxxxxxxxxxx
  ```

âš ï¸ **é‡è¦æç¤º**ï¼š
- **ä¸è¦å¤åˆ¶** `service_role` å¯†é’¥ï¼ˆè¿™æ˜¯æœåŠ¡ç«¯å¯†é’¥ï¼Œä¸å®‰å…¨ï¼‰
- åªå¤åˆ¶ **anon public** å¯†é’¥

âœ… **API å¯†é’¥è·å–å®Œæˆï¼**

---

## 6. é…ç½®å‰ç«¯ç¯å¢ƒå˜é‡

### æ­¥éª¤ 6.1ï¼šæ‰“å¼€ .env æ–‡ä»¶

åœ¨ä½ çš„é¡¹ç›®ä¸­ï¼Œæ‰“å¼€ `frontend/.env` æ–‡ä»¶

### æ­¥éª¤ 6.2ï¼šå¡«å…¥é…ç½®ä¿¡æ¯

å°†æ–‡ä»¶å†…å®¹æ›¿æ¢ä¸ºï¼š

```env
# Supabase é…ç½®
VITE_SUPABASE_URL=https://ä½ çš„é¡¹ç›®ID.supabase.co
VITE_SUPABASE_ANON_KEY=ä½ çš„anon-public-key
```

**ç¤ºä¾‹**ï¼ˆä½¿ç”¨ä½ è‡ªå·±çš„çœŸå®å€¼ï¼‰ï¼š

```env
# Supabase é…ç½®
VITE_SUPABASE_URL=https://abcdefghijklmn.supabase.co
VITE_SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImFiY2RlZmdoaWprbG1uIiwicm9sZSI6ImFub24iLCJpYXQiOjE2NDE3NjkyMDAsImV4cCI6MTk1NzM0NTIwMH0.xxxxxxxxxxxxxxxxxxxxxxxxxxxxx
```

### æ­¥éª¤ 6.3ï¼šä¿å­˜æ–‡ä»¶

ä¿å­˜ `.env` æ–‡ä»¶åï¼Œ**é‡å¯å¼€å‘æœåŠ¡å™¨**ï¼š

```bash
# å¦‚æœæœåŠ¡å™¨æ­£åœ¨è¿è¡Œï¼ŒæŒ‰ Ctrl+C åœæ­¢
# ç„¶åé‡æ–°å¯åŠ¨
npm run dev
```

æˆ–è€…ç›´æ¥åˆ·æ–°æµè§ˆå™¨é¡µé¢ã€‚

âœ… **å‰ç«¯é…ç½®å®Œæˆï¼**

---

## 7. éªŒè¯é…ç½®

### æ­¥éª¤ 7.1ï¼šæ£€æŸ¥æµè§ˆå™¨æ§åˆ¶å°

1. æ‰“å¼€æµè§ˆå™¨è®¿é—® `http://localhost:3000`
2. æŒ‰ `F12` æ‰“å¼€å¼€å‘è€…å·¥å…·
3. æŸ¥çœ‹ **Console** æ ‡ç­¾
4. **ä¸åº”è¯¥æœ‰çº¢è‰²é”™è¯¯**

### æ­¥éª¤ 7.2ï¼šæµ‹è¯•æ³¨å†ŒåŠŸèƒ½

1. åœ¨ç™»å½•é¡µé¢ç‚¹å‡» **"è¿˜æ²¡æœ‰è´¦æˆ·ï¼Ÿç«‹å³æ³¨å†Œ"**
2. è¾“å…¥æµ‹è¯•é‚®ç®±å’Œå¯†ç ï¼š
   - é‚®ç®±ï¼š`test@example.com`
   - å¯†ç ï¼š`test123456`ï¼ˆè‡³å°‘ 6 ä½ï¼‰
3. ç‚¹å‡» **"æ³¨å†Œ"**
4. å¦‚æœæˆåŠŸï¼š
   - æ˜¾ç¤º "æ³¨å†ŒæˆåŠŸ" æç¤º
   - è‡ªåŠ¨åˆ‡æ¢åˆ°ç™»å½•æ¨¡å¼

### æ­¥éª¤ 7.3ï¼šæµ‹è¯•ç™»å½•åŠŸèƒ½

1. ä½¿ç”¨åˆšæ‰æ³¨å†Œçš„è´¦æˆ·ç™»å½•
2. å¦‚æœæˆåŠŸï¼š
   - è·³è½¬åˆ°ä¸»é¡µ
   - æ˜¾ç¤º "æˆ‘çš„æ–‡ä»¶" é¡µé¢
   - å³ä¸Šè§’æœ‰ "ä¸Šä¼ æ–‡ä»¶" å’Œ "é€€å‡ºç™»å½•" æŒ‰é’®

### æ­¥éª¤ 7.4ï¼šæµ‹è¯•ä¸Šä¼ åŠŸèƒ½

1. ç‚¹å‡» **"ä¸Šä¼ æ–‡ä»¶"** æŒ‰é’®
2. é€‰æ‹©ä¸€ä¸ªå›¾ç‰‡æˆ–åˆ›å»ºä¸€ä¸ª `.md` æ–‡ä»¶
3. ç‚¹å‡» **"ä¸Šä¼ æ–‡ä»¶"**
4. å¦‚æœæˆåŠŸï¼š
   - æ˜¾ç¤º "ä¸Šä¼ æˆåŠŸ" æç¤º
   - è‡ªåŠ¨è¿”å›ä¸»é¡µ
   - æ–‡ä»¶åˆ—è¡¨ä¸­æ˜¾ç¤ºä¸Šä¼ çš„æ–‡ä»¶

### æ­¥éª¤ 7.5ï¼šåœ¨ Supabase ä¸­éªŒè¯

#### éªŒè¯æ•°æ®åº“

1. åœ¨ Supabase Dashboard ä¸­æ‰“å¼€ **"Table Editor"**
2. ç‚¹å‡» **"files"** è¡¨
3. åº”è¯¥èƒ½çœ‹åˆ°åˆšæ‰ä¸Šä¼ çš„æ–‡ä»¶è®°å½•

#### éªŒè¯ Storage

1. æ‰“å¼€ **"Storage"**
2. ç‚¹å‡» **"private-files"** bucket
3. åº”è¯¥èƒ½çœ‹åˆ°ä¸Šä¼ çš„æ–‡ä»¶ï¼ˆåœ¨ç”¨æˆ· ID æ–‡ä»¶å¤¹ä¸­ï¼‰

âœ… **æ‰€æœ‰é…ç½®éªŒè¯é€šè¿‡ï¼**

---

## ğŸ‰ é…ç½®å®Œæˆï¼

æ­å–œä½ ï¼Supabase å·²ç»å®Œå…¨é…ç½®å¥½äº†ã€‚ç°åœ¨ä½ å¯ä»¥ï¼š

- âœ… æ³¨å†Œå’Œç™»å½•ç”¨æˆ·
- âœ… ä¸Šä¼ æ–‡ä»¶ï¼ˆå›¾ç‰‡å’Œ Markdownï¼‰
- âœ… æŸ¥çœ‹æ–‡ä»¶åˆ—è¡¨
- âœ… ä¸‹è½½æ–‡ä»¶
- âœ… é¢„è§ˆ Markdown æ–‡ä»¶
- âœ… åˆ é™¤æ–‡ä»¶

---

## ğŸ”§ å¸¸è§é—®é¢˜æ’æŸ¥

### é—®é¢˜ 1ï¼šæ³¨å†Œåæ— æ³•ç™»å½•

**åŸå› **ï¼šå¯èƒ½å¯ç”¨äº†é‚®ç®±éªŒè¯

**è§£å†³æ–¹æ¡ˆ**ï¼š
1. è¿›å…¥ Authentication â†’ Providers â†’ Email
2. å–æ¶ˆå‹¾é€‰ "Confirm email"
3. é‡æ–°æ³¨å†Œ

### é—®é¢˜ 2ï¼šä¸Šä¼ æ–‡ä»¶å¤±è´¥

**æ£€æŸ¥æ¸…å•**ï¼š
- [ ] Storage bucket åç§°æ˜¯å¦ä¸º `private-files`
- [ ] Storage ç­–ç•¥æ˜¯å¦æ­£ç¡®é…ç½®ï¼ˆ3 ä¸ªç­–ç•¥ï¼‰
- [ ] æ–‡ä»¶å¤§å°æ˜¯å¦è¶…è¿‡ 50MB
- [ ] æµè§ˆå™¨æ§åˆ¶å°æ˜¯å¦æœ‰é”™è¯¯ä¿¡æ¯

**è§£å†³æ–¹æ¡ˆ**ï¼š
1. æ£€æŸ¥ Storage â†’ private-files â†’ Policies
2. ç¡®ä¿æœ‰ 3 ä¸ªç­–ç•¥ä¸”éƒ½å·²å¯ç”¨
3. é‡æ–°åˆ›å»ºç­–ç•¥ï¼ˆå¦‚æœæœ‰é—®é¢˜ï¼‰

### é—®é¢˜ 3ï¼šæ— æ³•è¿æ¥åˆ° Supabase

**æ£€æŸ¥æ¸…å•**ï¼š
- [ ] `.env` æ–‡ä»¶ä¸­çš„ URL æ˜¯å¦æ­£ç¡®ï¼ˆåŒ…å« `https://`ï¼‰
- [ ] anon key æ˜¯å¦å®Œæ•´å¤åˆ¶
- [ ] æ˜¯å¦é‡å¯äº†å¼€å‘æœåŠ¡å™¨
- [ ] Supabase é¡¹ç›®æ˜¯å¦æ­£å¸¸è¿è¡Œ

**è§£å†³æ–¹æ¡ˆ**ï¼š
1. é‡æ–°å¤åˆ¶ URL å’Œ Key
2. ç¡®ä¿æ²¡æœ‰å¤šä½™çš„ç©ºæ ¼
3. é‡å¯å¼€å‘æœåŠ¡å™¨ï¼š`npm run dev`

### é—®é¢˜ 4ï¼šRLS ç­–ç•¥é”™è¯¯

**é”™è¯¯ä¿¡æ¯**ï¼š`new row violates row-level security policy`

**è§£å†³æ–¹æ¡ˆ**ï¼š
1. é‡æ–°æ‰§è¡Œ `backend/sql/02_rls.sql`
2. ç¡®ä¿ç”¨æˆ·å·²ç™»å½•
3. æ£€æŸ¥ç­–ç•¥æ˜¯å¦æ­£ç¡®é…ç½®

### é—®é¢˜ 5ï¼šStorage ç­–ç•¥ä¸ç”Ÿæ•ˆ

**è§£å†³æ–¹æ¡ˆ**ï¼š
1. åˆ é™¤ç°æœ‰ç­–ç•¥
2. é‡æ–°åˆ›å»ºç­–ç•¥
3. ç¡®ä¿ Policy definition ä¸­çš„ SQL æ­£ç¡®
4. ç¡®ä¿ Target roles é€‰æ‹©äº† `authenticated`

---

## ğŸ“š ä¸‹ä¸€æ­¥

é…ç½®å®Œæˆåï¼Œä½ å¯ä»¥ï¼š

1. **é˜…è¯»å¼€å‘æ–‡æ¡£**ï¼š`DEVELOPMENT.md`
2. **å­¦ä¹ éƒ¨ç½²**ï¼š`DEPLOYMENT.md`
3. **æŸ¥çœ‹é¡¹ç›®æ€»è§ˆ**ï¼š`PROJECT_OVERVIEW.md`
4. **å¼€å§‹è‡ªå®šä¹‰åŠŸèƒ½**

---

## ğŸ†˜ éœ€è¦å¸®åŠ©ï¼Ÿ

å¦‚æœé‡åˆ°é—®é¢˜ï¼š

1. æŸ¥çœ‹æµè§ˆå™¨æ§åˆ¶å°é”™è¯¯
2. æŸ¥çœ‹ Supabase Dashboard çš„ Logs
3. å‚è€ƒ [Supabase å®˜æ–¹æ–‡æ¡£](https://supabase.com/docs)
4. æäº¤ Issue

---

## ğŸ“ é…ç½®æ£€æŸ¥æ¸…å•

å®Œæˆåç¡®è®¤ï¼š

- [ ] Supabase é¡¹ç›®å·²åˆ›å»º
- [ ] æ•°æ®åº“è¡¨å·²åˆ›å»ºï¼ˆfilesï¼‰
- [ ] RLS ç­–ç•¥å·²é…ç½®ï¼ˆ4 ä¸ªç­–ç•¥ï¼‰
- [ ] Storage bucket å·²åˆ›å»ºï¼ˆprivate-filesï¼‰
- [ ] Storage ç­–ç•¥å·²é…ç½®ï¼ˆ3 ä¸ªç­–ç•¥ï¼‰
- [ ] é‚®ç®±è®¤è¯å·²é…ç½®
- [ ] API å¯†é’¥å·²è·å–
- [ ] .env æ–‡ä»¶å·²é…ç½®
- [ ] å¼€å‘æœåŠ¡å™¨å·²é‡å¯
- [ ] å¯ä»¥æ³¨å†Œ/ç™»å½•
- [ ] å¯ä»¥ä¸Šä¼ æ–‡ä»¶
- [ ] å¯ä»¥æŸ¥çœ‹æ–‡ä»¶åˆ—è¡¨

å…¨éƒ¨å®Œæˆï¼ŸğŸ‰ **å¼€å§‹ä½¿ç”¨å§ï¼**

---

**æœ€åæ›´æ–°**: 2024-01-01  
**Supabase ç‰ˆæœ¬**: æœ€æ–°ç‰ˆ  
**é¢„è®¡æ—¶é—´**: 10-15 åˆ†é’Ÿ
