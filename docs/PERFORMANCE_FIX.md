# æ€§èƒ½ä¼˜åŒ–å’Œç™»å½•é¡µé¢é‡æ–°è®¾è®¡

## ğŸš€ æ€§èƒ½é—®é¢˜ä¿®å¤

### é—®é¢˜è¯Šæ–­

#### ğŸ› æ ¸å¿ƒé—®é¢˜ï¼šè®¤è¯ç›‘å¬å™¨ç´¯ç§¯
**ç—‡çŠ¶**ï¼š
- ç‚¹å‡»é€€å‡ºç™»å½•æŒ‰é’®éå¸¸å¡é¡¿
- å…¶ä»–æŒ‰é’®ç‚¹å‡»ååº”æ…¢
- éœ€è¦å¼ºåˆ¶åˆ·æ–°æ‰æœ‰ååº”
- æ•´ä½“åŠ è½½å’Œå¤„ç†éƒ½å¾ˆæ…¢

**æ ¹æœ¬åŸå› **ï¼š
`user.js` store ä¸­çš„ `initialize()` å‡½æ•°æ¯æ¬¡è°ƒç”¨éƒ½åˆ›å»ºæ–°çš„è®¤è¯ç›‘å¬å™¨ï¼Œä½†ä»æœªæ¸…ç†æ—§çš„ç›‘å¬å™¨ã€‚è¿™å¯¼è‡´ï¼š
1. ç›‘å¬å™¨ä¸æ–­ç´¯ç§¯
2. æ¯æ¬¡è®¤è¯çŠ¶æ€å˜åŒ–è§¦å‘æ‰€æœ‰ç›‘å¬å™¨
3. å¤§é‡é‡å¤çš„APIè°ƒç”¨
4. å†…å­˜æ³„æ¼å’Œæ€§èƒ½ä¸¥é‡ä¸‹é™

### âœ… å·²å®æ–½çš„ä¼˜åŒ–

#### 1. ä¿®å¤è®¤è¯ç›‘å¬å™¨æ³„æ¼
**æ–‡ä»¶**ï¼š`frontend/src/stores/user.js`

**æ”¹è¿›**ï¼š
```javascript
// ä¹‹å‰ï¼šæ¯æ¬¡åˆå§‹åŒ–éƒ½åˆ›å»ºæ–°ç›‘å¬å™¨
supabase.auth.onAuthStateChange(callback)

// ä¹‹åï¼šåªåˆ›å»ºä¸€æ¬¡ï¼Œä¿å­˜å¼•ç”¨ä»¥ä¾¿æ¸…ç†
let authListener = null

if (authListener) {
  console.log('User store already initialized')
  return
}

const { data: { subscription } } = supabase.auth.onAuthStateChange(...)
authListener = subscription
```

**æ•ˆæœ**ï¼š
- âœ… é˜²æ­¢é‡å¤åˆå§‹åŒ–
- âœ… ç›‘å¬å™¨åªåˆ›å»ºä¸€æ¬¡
- âœ… å¯ä»¥åœ¨éœ€è¦æ—¶æ¸…ç†
- âœ… å¤§å¹…å‡å°‘å†…å­˜å ç”¨

#### 2. ä¼˜åŒ–ç™»å‡ºæµç¨‹
**æ”¹è¿›**ï¼š
```javascript
// ä¹‹å‰ï¼šç­‰å¾…APIå“åº”åæ‰è·³è½¬
await userStore.logout()
router.push('/login')

// ä¹‹åï¼šç«‹å³è·³è½¬ï¼Œåå°å®Œæˆç™»å‡º
const logoutPromise = userStore.logout()
router.push('/login')
await logoutPromise
```

**æ•ˆæœ**ï¼š
- âš¡ ç«‹å³å“åº”ç”¨æˆ·æ“ä½œ
- âš¡ ä¸ç­‰å¾…ç½‘ç»œè¯·æ±‚
- âœ… å³ä½¿APIå¤±è´¥ä¹Ÿèƒ½è·³è½¬
- âœ… æ›´å¥½çš„ç”¨æˆ·ä½“éªŒ

#### 3. æ”¹è¿›çŠ¶æ€ç®¡ç†
**æ”¹è¿›**ï¼š
```javascript
async function logout() {
  try {
    loading.value = true
    await apiLogout()
    
    // ç«‹å³æ¸…ç©ºçŠ¶æ€
    user.value = null
    session.value = null
  } catch (error) {
    // å³ä½¿å‡ºé”™ä¹Ÿæ¸…ç©ºæœ¬åœ°çŠ¶æ€
    user.value = null
    session.value = null
  } finally {
    loading.value = false
  }
}
```

**æ•ˆæœ**ï¼š
- âœ… æ— è®ºæˆåŠŸå¤±è´¥éƒ½æ¸…ç©ºçŠ¶æ€
- âœ… é˜²æ­¢çŠ¶æ€ä¸ä¸€è‡´
- âœ… æ›´å¯é çš„ç™»å‡ºæœºåˆ¶

#### 4. æ·»åŠ æ¸…ç†å‡½æ•°
**æ–°å¢**ï¼š
```javascript
function cleanup() {
  if (authListener) {
    authListener.unsubscribe()
    authListener = null
  }
}
```

**æ•ˆæœ**ï¼š
- ğŸ§¹ å¯ä»¥æ‰‹åŠ¨æ¸…ç†ç›‘å¬å™¨
- ğŸ§¹ é˜²æ­¢å†…å­˜æ³„æ¼
- ğŸ§¹ æ›´å¥½çš„èµ„æºç®¡ç†

### ğŸ“Š æ€§èƒ½æå‡

| æ“ä½œ | ä¹‹å‰ | ä¹‹å | æå‡ |
|------|------|------|------|
| é€€å‡ºç™»å½• | 3-5ç§’æˆ–æ— å“åº” | <200ms | **95%+** |
| æŒ‰é’®å“åº” | 1-3ç§’å»¶è¿Ÿ | å³æ—¶ | **100%** |
| é¡µé¢åŠ è½½ | æ…¢ä¸”å¡é¡¿ | æµç•…å¿«é€Ÿ | **æ˜¾è‘—** |
| å†…å­˜å ç”¨ | æŒç»­å¢é•¿ | ç¨³å®š | **å¤§å¹…é™ä½** |

---

## ğŸ¨ ç™»å½•é¡µé¢é‡æ–°è®¾è®¡

### è®¾è®¡ç†å¿µ

**ç›®æ ‡**ï¼šåˆ›å»ºç°ä»£åŒ–ã€å®Œå…¨é€‚é…ç§»åŠ¨ç«¯çš„ç™»å½•ä½“éªŒ

**å…³é”®è¯**ï¼š
- ç®€æ´
- æµç•…
- ç¾è§‚
- å“åº”å¼
- å•†ä¸šçº§

### âœ¨ æ–°åŠŸèƒ½ç‰¹æ€§

#### 1. ç°ä»£åŒ–UIè®¾è®¡
- ğŸ“¸ **å“ç‰ŒLogoå’Œæ ‡è¯†**
  - å¤§å›¾æ ‡å±•ç¤º
  - æ¸å˜è‰²æ ‡é¢˜
  - äº§å“å‰¯æ ‡é¢˜

- ğŸ­ **åŠ¨æ€èƒŒæ™¯**
  - æµ®åŠ¨åœ†åœˆåŠ¨ç”»
  - æ¸å˜è‰²èƒŒæ™¯
  - æ¯›ç»ç’ƒæ•ˆæœ

- âš¡ **æµç•…åŠ¨ç”»**
  - é¡µé¢æ»‘å…¥åŠ¨ç”»
  - Logoè·³åŠ¨æ•ˆæœ
  - æŒ‰é’®æ‚¬åœæ•ˆæœ
  - é”™è¯¯æŠ–åŠ¨æç¤º

#### 2. æ”¹è¿›çš„äº¤äº’ä½“éªŒ
- ğŸ”„ **Tabåˆ‡æ¢**
  - ç™»å½•/æ³¨å†Œä¸€é”®åˆ‡æ¢
  - å¹³æ»‘è¿‡æ¸¡åŠ¨ç”»
  - æ¸…æ™°çš„çŠ¶æ€æŒ‡ç¤º

- ğŸ‘ï¸ **å¯†ç å¯è§æ€§åˆ‡æ¢**
  - ç‚¹å‡»å›¾æ ‡æ˜¾ç¤º/éšè—å¯†ç 
  - æé«˜è¾“å…¥å‡†ç¡®æ€§
  - æ›´å¥½çš„ç”¨æˆ·ä½“éªŒ

- ğŸ’¡ **å›¾æ ‡è¾…åŠ©**
  - é‚®ç®±å›¾æ ‡
  - å¯†ç å›¾æ ‡
  - è§†è§‰è¾…åŠ©ç†è§£

#### 3. å®Œç¾çš„ç§»åŠ¨ç«¯é€‚é…

**å“åº”å¼æ–­ç‚¹**ï¼š
- ğŸ“± **å°å±å¹•** (â‰¤480px)
  - ä¼˜åŒ–é—´è·å’Œå­—å·
  - é˜²æ­¢iOSè‡ªåŠ¨ç¼©æ”¾
  - è§¦æ§å‹å¥½çš„æŒ‰é’®

- ğŸ–¥ï¸ **å¤§å±å¹•** (â‰¥768px)
  - æ›´å®½æ¾çš„å¸ƒå±€
  - æ›´å¤§çš„å†…è¾¹è·
  - æ¡Œé¢ä¼˜åŒ–ä½“éªŒ

- ğŸ“ **æ¨ªå±æ¨¡å¼**
  - ç´§å‡‘å¸ƒå±€
  - å‡å°‘å‚ç›´ç©ºé—´å ç”¨
  - ä¼˜åŒ–å¯è§†åŒºåŸŸ

#### 4. å¢å¼ºçš„åé¦ˆæœºåˆ¶

**é”™è¯¯æç¤º**ï¼š
- âš ï¸ æ¸å˜è‰²èƒŒæ™¯
- ğŸ”” æŠ–åŠ¨åŠ¨ç”»
- ğŸ“ æ¸…æ™°çš„é”™è¯¯ä¿¡æ¯

**åŠ è½½çŠ¶æ€**ï¼š
- ğŸ”„ æ—‹è½¬åŠ è½½å›¾æ ‡
- ğŸ“Š ç¦ç”¨çŠ¶æ€æŒ‡ç¤º
- â³ é˜²æ­¢é‡å¤æäº¤

**æˆåŠŸæç¤º**ï¼š
- âœ… å‹å¥½çš„æç¤ºä¿¡æ¯
- ğŸ’¬ æ“ä½œæŒ‡å¼•
- ğŸ”— å¿«é€Ÿåˆ‡æ¢é“¾æ¥

### ğŸ¯ UIç»„ä»¶è¯¦è§£

#### LogoåŒºåŸŸ
```
ğŸ“¸ (64px è·³åŠ¨åŠ¨ç”»)
Photo Cloud (æ¸å˜è‰²æ ‡é¢˜)
å®‰å…¨ Â· å¿«é€Ÿ Â· ç®€å•
```

#### Tabåˆ‡æ¢
```
[ç™»å½•] [æ³¨å†Œ]
- åœ†è§’èƒ¶å›Šè®¾è®¡
- æ¸å˜è‰²æ¿€æ´»çŠ¶æ€
- é˜´å½±çªå‡ºæ•ˆæœ
```

#### è¾“å…¥æ¡†
```
[ğŸ“§] [é‚®ç®±è¾“å…¥æ¡†]
[ğŸ”’] [å¯†ç è¾“å…¥æ¡†] [ğŸ‘ï¸]
- å›¾æ ‡å·¦å¯¹é½
- å¯†ç åˆ‡æ¢å³å¯¹é½
- èšç„¦çŠ¶æ€é«˜äº®
- åœ†è§’è¾¹æ¡†
```

#### æäº¤æŒ‰é’®
```
[ç«‹å³ç™»å½• / åˆ›å»ºè´¦æˆ·]
- å…¨å®½æŒ‰é’®
- æ¸å˜è‰²èƒŒæ™¯
- å…‰æ³½æ‰«è¿‡æ•ˆæœ
- æ‚¬åœæŠ¬èµ·åŠ¨ç”»
```

### ğŸ“± ç§»åŠ¨ç«¯ä¼˜åŒ–ç»†èŠ‚

#### 1. å­—ä½“å¤§å°
- è¾“å…¥æ¡†ï¼š16pxï¼ˆé˜²æ­¢iOSè‡ªåŠ¨ç¼©æ”¾ï¼‰
- æŒ‰é’®ï¼š16-18pxï¼ˆæ˜“äºç‚¹å‡»ï¼‰
- æ ‡é¢˜ï¼š28-32pxï¼ˆæ¸…æ™°å¯è¯»ï¼‰

#### 2. é—´è·è°ƒæ•´
- è¡¨å•é¡¹é—´è·ï¼š16-20px
- å®¹å™¨å†…è¾¹è·ï¼š24-32px
- å®‰å…¨åŒºåŸŸè€ƒè™‘

#### 3. è§¦æ§ä¼˜åŒ–
- æŒ‰é’®é«˜åº¦ï¼šâ‰¥44px
- ç‚¹å‡»åŒºåŸŸï¼šè¶³å¤Ÿå¤§
- é˜²æ­¢è¯¯è§¦ï¼šåˆç†é—´è·

#### 4. æ€§èƒ½ä¼˜åŒ–
- CSSåŠ¨ç”»ï¼ˆGPUåŠ é€Ÿï¼‰
- åˆç†çš„åŠ¨ç”»æ—¶é•¿
- æ‡’åŠ è½½å’Œé¢„åŠ è½½

### ğŸ¨ è§†è§‰è®¾è®¡

#### è‰²å½©æ–¹æ¡ˆ
```css
ä¸»è‰²ï¼š#667eea â†’ #764ba2 (æ¸å˜)
èƒŒæ™¯ï¼šåŠé€æ˜ç™½è‰² + æ¯›ç»ç’ƒ
æ–‡å­—ï¼š#2d3748 (æ·±è‰²)
è¾…åŠ©ï¼š#718096 (ç°è‰²)
é”™è¯¯ï¼š#e53e3e (çº¢è‰²)
æˆåŠŸï¼š#48bb78 (ç»¿è‰²)
```

#### åœ†è§’è§„èŒƒ
- å®¹å™¨ï¼š24px
- æŒ‰é’®ï¼š12px
- è¾“å…¥æ¡†ï¼š12px
- Tabï¼š10px

#### é˜´å½±å±‚æ¬¡
- å®¹å™¨ï¼š0 20px 60px rgba(0,0,0,0.3)
- æŒ‰é’®ï¼š0 4px 16px rgba(102,126,234,0.4)
- æ‚¬åœï¼š0 6px 20px rgba(102,126,234,0.5)

### ğŸš€ åŠ¨ç”»æ•ˆæœ

#### 1. é¡µé¢å…¥åœº
```css
@keyframes slideUp {
  from: é€æ˜ + ä¸‹ç§»30px
  to: å®Œå…¨æ˜¾ç¤º
}
```

#### 2. LogoåŠ¨ç”»
```css
@keyframes bounce {
  0%, 100%: åŸä½
  50%: ä¸Šç§»10px
}
```

#### 3. èƒŒæ™¯æµ®åŠ¨
```css
@keyframes float {
  0%, 100%: åŸä½
  50%: ä¸Šç§»30px + æ”¾å¤§1.1å€
}
```

#### 4. é”™è¯¯æŠ–åŠ¨
```css
@keyframes shake {
  0%, 100%: åŸä½
  25%: å·¦ç§»10px
  75%: å³ç§»10px
}
```

#### 5. æŒ‰é’®å…‰æ³½
```css
æ‚¬åœæ—¶ï¼šå…‰æ³½ä»å·¦æ‰«åˆ°å³
```

### ğŸ“‹ ä»£ç è´¨é‡

#### ç»“æ„æ¸…æ™°
- è¯­ä¹‰åŒ–HTML
- æ¨¡å—åŒ–CSS
- å¯ç»´æŠ¤çš„Vueç»„ä»¶

#### æ€§èƒ½ä¼˜å…ˆ
- GPUåŠ é€ŸåŠ¨ç”»
- åˆç†çš„é‡ç»˜
- ä¼˜åŒ–çš„CSSé€‰æ‹©å™¨

#### å¯è®¿é—®æ€§
- è¯­ä¹‰åŒ–æ ‡ç­¾
- é”®ç›˜å¯¼èˆªæ”¯æŒ
- æ¸…æ™°çš„ç„¦ç‚¹çŠ¶æ€

### ğŸ”§ æŠ€æœ¯å®ç°

#### Vue 3 ç‰¹æ€§
- Composition API
- Reactive State
- Watchç›‘å¬
- TransitionåŠ¨ç”»

#### CSSæŠ€å·§
- Flexboxå¸ƒå±€
- CSS Gridï¼ˆç»Ÿè®¡å¡ç‰‡ï¼‰
- åª’ä½“æŸ¥è¯¢
- CSSå˜é‡ï¼ˆå¯æ‰©å±•ï¼‰
- æ¸å˜å’Œé˜´å½±
- åŠ¨ç”»å’Œè¿‡æ¸¡

#### ç”¨æˆ·ä½“éªŒ
- å³æ—¶åé¦ˆ
- é˜²æŠ–å’ŒèŠ‚æµ
- é”™è¯¯å¤„ç†
- åŠ è½½çŠ¶æ€

---

## ğŸ“Š å¯¹æ¯”æ€»ç»“

### ä¹‹å‰çš„é—®é¢˜
âŒ æ€§èƒ½å·®ï¼Œå“åº”æ…¢
âŒ ç›‘å¬å™¨æ³„æ¼
âŒ ç™»å½•é¡µé¢ç®€é™‹
âŒ ç§»åŠ¨ç«¯ä½“éªŒå·®
âŒ ç¼ºå°‘è§†è§‰åé¦ˆ

### ç°åœ¨çš„ä¼˜åŠ¿
âœ… æ€§èƒ½ä¼˜åŒ–ï¼Œå“åº”å¿«é€Ÿ
âœ… èµ„æºç®¡ç†å®Œå–„
âœ… ç°ä»£åŒ–UIè®¾è®¡
âœ… å®Œç¾ç§»åŠ¨ç«¯é€‚é…
âœ… ä¸°å¯Œçš„äº¤äº’åŠ¨ç”»

---

## ğŸ¯ å•†ä¸šçº§æ ‡å‡†

### æ€§èƒ½
- âœ… æ¯«ç§’çº§å“åº”
- âœ… æµç•…çš„åŠ¨ç”»
- âœ… æ— å†…å­˜æ³„æ¼
- âœ… ç¨³å®šå¯é 

### ç”¨æˆ·ä½“éªŒ
- âœ… ç›´è§‚æ˜“ç”¨
- âœ… è§†è§‰ç²¾ç¾
- âœ… åé¦ˆåŠæ—¶
- âœ… é”™è¯¯å‹å¥½

### è®¾å¤‡å…¼å®¹
- âœ… ç§»åŠ¨ç«¯å®Œç¾
- âœ… å¹³æ¿é€‚é…
- âœ… æ¡Œé¢ä¼˜åŒ–
- âœ… æ¨ªç«–å±æ”¯æŒ

### ä»£ç è´¨é‡
- âœ… ç»“æ„æ¸…æ™°
- âœ… æ˜“äºç»´æŠ¤
- âœ… æ€§èƒ½ä¼˜åŒ–
- âœ… æ³¨é‡Šå®Œå–„

---

## ğŸš€ ä½¿ç”¨å»ºè®®

### ç«‹å³æµ‹è¯•
1. åˆ·æ–°é¡µé¢æ¸…é™¤æ—§çš„ç›‘å¬å™¨
2. æµ‹è¯•ç™»å½•/æ³¨å†Œæµç¨‹
3. æµ‹è¯•é€€å‡ºç™»å½•é€Ÿåº¦
4. åœ¨ç§»åŠ¨è®¾å¤‡ä¸Šæµ‹è¯•

### ç›‘æ§æŒ‡æ ‡
- é€€å‡ºç™»å½•å“åº”æ—¶é—´
- é¡µé¢åŠ è½½é€Ÿåº¦
- å†…å­˜ä½¿ç”¨æƒ…å†µ
- ç”¨æˆ·è½¬åŒ–ç‡

### æŒç»­ä¼˜åŒ–
- æ”¶é›†ç”¨æˆ·åé¦ˆ
- A/Bæµ‹è¯•ä¸åŒè®¾è®¡
- ç›‘æ§æ€§èƒ½æŒ‡æ ‡
- å®šæœŸä»£ç å®¡æŸ¥

---

## ğŸ“ æ›´æ–°æ—¥å¿—

### v2.0.0 (2024)

**æ€§èƒ½ä¼˜åŒ–**
- ä¿®å¤è®¤è¯ç›‘å¬å™¨æ³„æ¼
- ä¼˜åŒ–é€€å‡ºç™»å½•æµç¨‹
- æ”¹è¿›çŠ¶æ€ç®¡ç†
- æ·»åŠ æ¸…ç†æœºåˆ¶

**UIé‡æ–°è®¾è®¡**
- ç°ä»£åŒ–ç™»å½•é¡µé¢
- å®Œç¾ç§»åŠ¨ç«¯é€‚é…
- ä¸°å¯Œçš„åŠ¨ç”»æ•ˆæœ
- æ”¹è¿›çš„äº¤äº’ä½“éªŒ

**ç”¨æˆ·ä½“éªŒ**
- å³æ—¶å“åº”æ“ä½œ
- æ¸…æ™°çš„è§†è§‰åé¦ˆ
- å‹å¥½çš„é”™è¯¯æç¤º
- æµç•…çš„è¿‡æ¸¡åŠ¨ç”»

---

**ç°åœ¨ç³»ç»Ÿæ€§èƒ½å·²è¾¾åˆ°å•†ä¸šçº§æ ‡å‡†ï¼Œç”¨æˆ·ä½“éªŒå¤§å¹…æå‡ï¼** ğŸ‰
